### InnoDB 和 MyISAM 的区别

- InnoDB 支持事务, MyISAM 不支持事务,对于 InnoDB 来说,每条 SQL 语句都被封装为事务,事务提供了一个可以从失败中恢复到正常的方法,可以在异常情况下保持数据库一致性,在多个程序并发访问的时候提供了隔离的方法,但是事务会影响运行速度

- InnoDB 支持外键, MyISAM 不支持外键

- InnoDB 是聚簇索引,而 MyISAM 是非聚簇索引,二者的所有都是使用了 B+ 树的数据结构

- InnoDB 不保存表的具体行数,执行`select count(*) from table`时需要对整个表进行扫描,而 MyISAM 则用一个变量保存了整个表的行数,执行上述语句时只需要读出该变量即可(不能有 where 子句)

  InnoDB 每个这个变量是由于其独有的事务性,在同一时刻表中的行数对于不同的事务来说有可能是不同的

- InnoDB 必须有主键,而MyISAM可以没有

#### 如何选择

- 如果不需要支持事务.则可以考虑 MyISAM
- 如果表中绝大多数操作都是读取/查询,则可以考虑 MyISAM